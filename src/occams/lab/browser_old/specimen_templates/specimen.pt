<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="hive.lab"
      xml:lang="en"
      lang="en">
  <metal:content-core fill-slot="content-core">

    <metal:content-core define-macro="content-core">
        <tal:aliquot tal:condition="exists:view/listAliquotTypes">

          <tal:data define="list view/listAliquotTypes">
                  <p>Use this form to view a subset of specimen. Use the "<b>Remove Filter</b>" button remove all filter options.</p>
                  <table class="listing">
                    <tr >
                      <td tal:repeat="aliquot list">
                        <a href="" tal:attributes="href aliquot/url">
                             <img src="/++resource++occams.lab/images/allergy-vials-icon.png" />
                            <span tal:content="aliquot/title" />
                          </a>
                      </td>
                    </tr>
                  </table>
                  <a href="#" name="" style="display:none"></a>
                  <br class="visualClear" />
          </tal:data>
        </tal:aliquot>
        <dl class="collapsible collapsedOnLoad">
          <dt class="collapsibleHeader">
               Apply a Filter
          </dt>
          <dd class="collapsibleContent">
        <tal:data define="form view/getFilterForm">
                <p>Use this form to view a subset of specimen. Use the "<b>Remove Filter</b>" button remove all filter options.</p>
                <tal:crud replace="structure form" />
                <a href="#" name="" style="display:none"></a>
                <br class="visualClear" />
        </tal:data>
      </dd>
    </dl>

        <br class="visualClear" />
        <tal:data define="form view/getCrudForm">
            <tal:hasdata tal:condition="form">
                <tal:crud replace="structure form" />
                <a href="#" name="" style="display:none"></a>
                <br class="visualClear" />
                    <li><b>Recover Selected:</b>Moves selected specimens back to the pre-processing (view) stage in case of error.</li>
                </tal:hasdata>
            <tal:nodata tal:condition="not:form">
                <p>No Specimen meet the current criteria. This could be because of a filter currently in place, or because no specimen are available in the current context (for a visit, patient, etc).</p>
            </tal:nodata>
        </tal:data>

        <tal:canrequest tal:condition="exists:view/requestSpecimen">
        <hr class="visualClear" />
            <tal:data define="form view/requestSpecimen">
                <tal:hasdata tal:condition="form">
                    <p>Request More Specimen</p>
                    <tal:crud replace="structure form" />
                <a href="#" name="" style="display:none"></a>
                </tal:hasdata>
            </tal:data>

        </tal:canrequest>

    </metal:content-core>
  </metal:content-core>
</html>