<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      i18n:domain="hive.lab"
      xml:lang="en"
      lang="en"
      tal:define="portal_state context/@@plone_portal_state;
                  context_state context/@@plone_context_state;
                  plone_view context/@@plone;
                  lang portal_state/language;
                  view nocall:view | nocall: plone_view;
                  dummy python: plone_view.mark_view(view);
                  portal_url portal_state/portal_url;
                  checkPermission nocall: context/portal_membership/checkPermission;
                  site_properties context/portal_properties/site_properties;
                  ajax_load request/ajax_load | nothing"
      tal:attributes="lang lang;
                      xml:lang lang">
  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Plone - http://plone.org" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <metal:baseslot >
      <base tal:attributes="href plone_view/renderBase" /><!--[if lt IE 7]></base><![endif]-->
    </metal:baseslot>

    <tal:notajax tal:condition="not:ajax_load">
        <div tal:replace="structure provider:plone.htmlhead" />
        <link tal:replace="structure provider:plone.htmlhead.links" />
        <!-- Disable IE6 image toolbar -->
        <meta http-equiv="imagetoolbar" content="no" />
    </tal:notajax>
  </head>

  <body>
        <h1
          class="documentFirstHeading">Aliquot Reciept</h1>

        <table class="listing">
            <tr>
                <th>
                    Aliquot ID
                </th>
                <th>
                    OUR#
                </th>
                <th>
                    AEHID / MBN
                </th>
                <th>
                    Store Date
                </th>
                <th>
                    Type
                </th>
                <th>
                    Volume / # of Cells
                </th>
                <th>
                    Notes
                </th>
            </tr>
            <div tal:repeat="aliquot view/getaliquot" tal:omit-tag="">
                <tr tal:define="odd repeat/aliquot/odd" tal:attributes="class python: odd and 'odd' or 'even'">
                    <td tal:content="aliquot/dsid" />
                    <td tal:content="aliquot/patient_title" />
                    <td tal:content="aliquot/patient_legacy_number" />
                    <td tal:content="aliquot/store_date" />
                    <td tal:content="aliquot/pretty_type" />
                    <td >
                        <span tal:condition="python:hasattr(aliquot, 'volume') and aliquot.volume" tal:replace="aliquot/volume" />
                        
                        <span tal:condition="python:hasattr(aliquot, 'cell_amount') and aliquot.cell_amount" tal:replace="aliquot/cell_amount" />
                    </td>
                    <td >
                        <span tal:condition="python:hasattr(aliquot, 'special_instruction') and aliquot.special_instruction" tal:omit-tag="">
                            <span tal:replace="aliquot/special_instruction" />
                            <br />
                        </span>
                        <span tal:condition="python:hasattr(aliquot, 'notes') and aliquot.notes" tal:omit-tag="">
                            <span tal:replace="aliquot/notes" />
                            <br />
                        </span>
                        <span tal:condition="python:hasattr(aliquot, 'sent_notes') and aliquot.sent_notes" tal:omit-tag="">
                            <span tal:replace="aliquot/sent_notes" />
                            <br />
                        </span>
                    </td>

                </tr>
            </div>
        </table>
    </body>
</html>